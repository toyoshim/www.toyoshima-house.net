UTMC'99夏コミ企画用(?)サウンドノベルエンジン
           「L.（エルポイント）」
              〜 技術仕様書 〜

99/6/5 r1
                                   とよしま


１．特徴

・L.の「L」は、「light」と「Leaf」を、「.」は
「(Power) Point」を表している。この名称はこのソフト
の内容を端的に表しているはず。

・基本的には汎用ノベルゲームプレイヤー。但し、
プレゼン用のソフトとしても十分に活用できる。

・シナリオ記述は、XMLで記述される。但し、この
XMLはL.の定める定義を満たす、valid-XMLでなければ
ならない。

・画像、音楽などはシナリオに埋め込むことができる。
この際、画像の切り替え画面効果等はadd-on形式で追加
可能。

２．プラットフォーム

・対応予定のプラットフォームは、Windows 95/98/NT4.0、
BeOS R4(Intel/PowerPC)、MacOS 8.xとする。コミケを考慮
してWin版を基本にもってくるが、本来のターゲットはBeOS。
また、MacOS版は場合によっては作らないかもしれない。
逆に場合によってはJava版を検討するかもしれない。

３．データ

・画像は、最もフォーマットの単純なBMPをとりあえず採用。
WinについてはSPIを使って拡張可能。BeOSの場合は、OSの提供
するデータ交換機能を使って拡張可能。

・データは、ファイルシステム上、あるいは、HTTPで取得
可能なURLにあること。このため、ゲーム/プレゼンに特化した
ウェブブラウザ的趣になる。

・各データは、それ自身で完結したデータ群（たとえば、
ゲーム１パッケージ）ごとに、相対アドレスでリンクされる。

４．プログラム

・ネットワーク上のファイルを扱うために、ファイル取得が
ボトルネックになる恐れがある。このため、作業を最も効率
良く行うために、データ取得、XMLパーズ、イメージ再構成を
マルチスレッドにより並列処理する。

・add-onのAPIは公開する。但し、これらは、POSIX環境で問題
なくコンパイルできるソースで書かれていなくてはならない。
また、エンディアンの違いにより問題が起きるようなコードを
書いてはならない。これは各プラットフォーム上で再コンパイル
のみでadd-onを移植するために必要な取り決めである。また、
場合によっては画像処理に特化したVMを作成し、そのVM用のコード
をadd-onとして利用できるようにする。画像処理プログラムを
完璧に最適化しようとすると、各CPUについての高度な理解が
必要なので、むしろVMを被せてCISC化したほうが、いい加減な
Cやアセンブラのコードよりも高速に動作する。

５．版権

・俺のもの。
